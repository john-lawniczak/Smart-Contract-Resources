# Solidity | DeFi | and Blockchain Resources

Resources for Solidity, Defi, and blockchain technologies.    
🔖 = bookmark   

🔖 [Remix](https://remix.ethereum.org) - for testing and deploying smart contracts   
[Ethereum unit converter](https://eth-converter.com/)   

🔖 Solidity [Documentation](https://docs.soliditylang.org/en/latest/index.html) and [Cheatsheet](https://docs.soliditylang.org/en/v0.8.13/cheatsheet.html?highlight=encodewithsignature)      
🔖 Solidity [Best practices](https://consensys.github.io/smart-contract-best-practices/)    
🔖 Solidity [By example](https://solidity-by-example.org/)   

[Ethereum Documentation](https://ethereum.org/en/developers/docs/)    
[ERC20 Docs](https://docs.openzeppelin.com/contracts/4.x/) via [OpenZeppelin](https://docs.openzeppelin.com/contracts/4.x/) library   

🔖 [Solidity Contract Layout](https://github.com/Cyfrin/foundry-full-course-f23#solidity-contract-layout)      
🔖 [Awesome Foundry](https://github.com/crisgarner/awesome-foundry#awesome-foundry)    
🔖 [RareSkills Git](https://github.com/RareSkills)   

## Tutorial Resources

`1. Patrick Collins Courses:` 
   -  Harhat Course - [Youtube](https://www.youtube.com/watch?v=gyMwXuJrbJQ&list=PLQj6KMbjsRt7ft3xEtU8WhkK5-TsxDplY&t=12715s) and [Github](https://github.com/smartcontractkit/full-blockchain-solidity-course-js)   
   -  🔖 Foundry Course - [Youtube](https://github.com/Cyfrin/foundry-full-course-f23) and [Github](https://github.com/Cyfrin/foundry-full-course-f23)
   -  Smart Contract Audits, Security, and DeFi Course [Youtube](https://www.youtube.com/watch?v=pUWmJ86X_do&t=64331s) and [Github](https://github.com/Cyfrin/security-and-auditing-full-course-s23)   
  
`2. Smart Contract Programmer:` 
   - [Youtube](https://www.youtube.com/@smartcontractprogrammer) (one of the creators of Solidity by example)   
   - [Foundry playlist](https://www.youtube.com/playlist?list=PLO5VPQH6OWdUrKEWPF07CSuVm3T99DQki)

`3. Guardian Audits - Advanced Web3 Security Course`
   - [Youtube](https://www.youtube.com/watch?v=DRZogmD647U)
   - [Gateway-Free-Web3-Security-Course](https://guardianaudits.notion.site/guardianaudits/Gateway-Free-Web3-Security-Course-574f4d819c144d7895cda6d61ba26503)

🔖 [Secureum Mind Map](https://github.com/x676f64/secureum-mind_map)    
🔖 [Teachyourselfcrypto.com](https://teachyourselfcrypto.com/) (great links to DeFi)   

-----

## General Blockchain Knowledge
[Blockchain Developer Roadmap](https://roadmap.sh/blockchain) - [more detailed](https://github.com/OffcierCia/DeFi-Developer-Road-Map) (tons on Twitter)   
[Blockchain 101](https://www.youtube.com/watch?v=_160oMzblY8) (video)    
[How Bitcoin Works](https://youtu.be/Lx9zgZCMqXE) (video)   
[Whiteboard Crypto](https://www.youtube.com/@WhiteboardCrypto)   
[Finematics](https://www.youtube.com/@Finematics)   
[Why Hexadecimal](https://www.youtube.com/watch?v=dPxCGlW9lfM&t=367s) and [256 Bit Computing](https://en.wikipedia.org/wiki/256-bit_computing)   

-----    

### News
🔖 [Rekt ](https://rekt.news/)      
[Web3isgoinggreat](https://web3isgoinggreat.com/)   

-----

### Youtube Resources

🔖 Andy Li - [interviews](https://www.youtube.com/@andyli)      
Johnny Time - [interviews](https://www.youtube.com/@JohnnyTime)  
[OpenSense - Free Ethereum Security](https://www.youtube.com/@opensensepw)   

[Blockchain and Money](https://www.youtube.com/playlist?list=PLUl4u3cNGP63UUkfL0onkxF6MYgVa04Fn) (MIT Fall 2018) ...taught by Gary Gensler...   
   - Conceptual idea of contracts with Harvard Prof. [Lawrence Lessig](https://youtu.be/JPkgJwJHYSc)  

[Campbell Harvey](https://www.youtube.com/@campbellharvey) (Prof. Duke) author of DeFi and the Future of Finance    
[Berkeley](https://youtube.com/@blockchain-web3moocs635) -- [Berkeley DeFi class](https://rdi.berkeley.edu/berkeley-defi/f22) (for the AMA’s) and subscribe to [RDI](https://rdi.berkeley.edu/)     
[Ethereum Engineering Group](https://www.youtube.com/@EthereumEngineeringGroup)  (Peter Robinson - Head of Blockchain at Immutable X)    

-----

### Reading
[Mastering Ethereum](https://github.com/ethereumbook/ethereumbook) - essential guide both general and technical (*FREE*)    
[Mastering Bitcoin](https://github.com/bitcoinbook/bitcoinbook) -  bit more technical (and perhaps duller) than Mastering Ethereum (*FREE*)   
[Deconstructing Solidity](https://blog.openzeppelin.com/deconstructing-a-solidity-contract-part-i-introduction-832efd2d7737) - breaks down Solidity to its byte code

[The Infinite Machine](https://www.barnesandnoble.com/w/the-infinite-machine-camila-russo/1133319507) - historical context how Ethereum started, think The Social Network meets Silicon Valley   
[The Art of Invisibility](https://www.amazon.com/Art-Invisibility-Worlds-Teaches-Brother/dp/0316380520/ref=pd_bxgy_vft_none_img_sccl_1/143-3045608-6084059?pd_rd_w=egSFy&content-id=amzn1.sym.26a5c67f-1a30-486b-bb90-b523ad38d5a0&pf_rd_p=26a5c67f-1a30-486b-bb90-b523ad38d5a0&pf_rd_r=BCV539P93WX905Q01N2H&pd_rd_wg=DwfOg&pd_rd_r=ffede342-f9c3-4674-bae2-6e14f69a9fb4&pd_rd_i=0316380520&psc=1) - (David M) about online anonymity   
[Tracers in the Dark](https://www.amazon.com/Tracers-Dark-Global-Crime-Cryptocurrency/dp/0385548095) by [Andy Greenberg](https://www.wired.com/author/andy-greenberg/) - covers transparency of Bitcoin and cybercrime - 10/10 recommend! 
   - [How to Peel a Million: Validating and Expanding Bitcoin Clusters](https://arxiv.org/pdf/2205.13882.pdf) - Sarah Meiklejohn and team   

How to DeFi: [Beginner](https://www.amazon.com/How-DeFi-Beginner-Coin-Gecko/dp/B098GT2PSG) and/or [Advanced](https://www.amazon.com/dp/B098H215P3?tag=uuid10-20)   
[DeFi and the Future of Finance](https://www.amazon.com/DeFi-Future-Finance-Campbell-Harvey/dp/1119836018) - particularly Chapter 6: deep dive      

Matt Levine: [Bloomberg](https://www.bloomberg.com/opinion/authors/ARbTQlRLRjE/matthew-s-levine) Opinion Columnist per [Dan Robinson](https://youtu.be/Lz7g0ny99jk?t=3183)    

-----  
### Podcasts 
[Bankless](http://podcast.banklesshq.com/)   
[Unchained](https://unchainedcrypto.com/podcasts/)   
[Scraping Bits](https://rss.com/podcasts/scrapingbits/)   

-----   
### Interactive (CTF, Capture the Flags)
🔖 [Ethernaut Challenges](https://ethernaut.openzeppelin.com/) via OpenZeppelin   
   - [In Foundry](https://github.com/ciaranmcveigh5/ethernaut-x-foundry)
   - [D-Squared's Channel](https://www.youtube.com/@d-squared70/videos) and [DeFiDeveloperAcademy's Channel](https://www.youtube.com/@DeFiDeveloperAcademy)   
 
🔖 [Damn Vulnerable DeFi](https://www.damnvulnerabledefi.xyz/)    
   - [In Foundry](https://github.com/nicolasgarcia214/damn-vulnerable-defi-foundry)   

[Paradigm CTFs](https://ctf.paradigm.xyz/)    
[Crypto Zombies](https://cryptozombies.io/) (old)     
[Speed Run Ethereum](https://speedrunethereum.com/) via [Austin Griffith](https://www.youtube.com/@austingriffith3550/videos)   
[JumpCryptoHQ](https://github.com/keone/crypto-reading-list/blob/main/Exercises.md) exercises   

-----
### Interviews and Questions   
- [10 Solidity Questions](https://www.youtube.com/watch?v=Vzjc-xffhJs)   
- [40 Solidity Questions](https://www.youtube.com/watch?v=tpekiuASieo)   
- [100 Solidity Questions](https://youtu.be/FoCM07HlfhU?t=1644)   
- [Rareskills 140 interview questions for Ethereum Developers](https://www.rareskills.io/post/solidity-interview-questions)   
- [Jumpdest](https://www.jumpdest.dev/)   
  
----- 

## Opcodes | Gas Optimization | Storage and Memory
🔖 [Layout in memory](https://docs.soliditylang.org/en/latest/internals/layout_in_memory.html)   
🔖 [Solidity Optimizer](https://docs.soliditylang.org/en/latest/internals/optimizer.html)   
🔖 [Opcodes Updated](https://ethereum.org/en/developers/docs/evm/opcodes/) vs. - [Old Git](https://github.com/crytic/evm-opcodes) and [video](https://youtu.be/M8_4THWJkHQ?t=265)      
🔖 [Ethereum Signature Database](https://www.4byte.directory/) or [Open Chain](https://openchain.xyz/signatures)   
🔖 [EVM Storage](https://evm.storage/)   

[Solady](https://github.com/Vectorized/solady) and [Solmate](https://github.com/transmissions11/solmate)   

Patrick Collins [walkthrough](https://youtu.be/gyMwXuJrbJQ?list=PLQj6KMbjsRt7ft3xEtU8WhkK5-TsxDplY&t=42469) - [FunWithStorage contract](https://youtu.be/gyMwXuJrbJQ?list=PLQj6KMbjsRt7ft3xEtU8WhkK5-TsxDplY&t=42690)      
[Brief storage video](https://youtu.be/_YkulBTqIcQ?t=522)    
[Storage vs Memory](https://soliditytips.com/articles/solidity-data-location-storage-memory/)   
Foundry Debugger [7:01:10](https://youtu.be/sas02qSFZ74?list=PL4Rj_WH6yLgWe7TxankiqkrkVKXIwOP42&t=25270)     
[Ethernaut Lvl 19 MagicNumber](https://medium.com/coinmonks/ethernaut-lvl-19-magicnumber-walkthrough-how-to-deploy-contracts-using-raw-assembly-opcodes-c50edb0f71a2)   
[Gas-optimization course](https://www.udemy.com/course/advanced-solidity-understanding-and-optimizing-gas-costs/?referralCode=C4684D6872713525E349) by Jeffrey Scholz [Medium](https://medium.com/@jeffrey-scholz) and [RareSkills Git](https://github.com/RareSkills)   
[Harrison on Twitter](https://twitter.com/PopPunkOnChain)   

[Play with opcodes](https://www.evm.codes/playground)      

[Block](https://ethereum.org/en/developers/docs/blocks/) limit ~30 million gas. New block every 15 seconds; memory explosion due to quadratic growth   
`BaseFee` - is burned; determined by network; Solidity can access via `block.basefee`   
`Max Fee` - most willing to pay; upper bound of gas price   
`Max priority fee` - most you are willing to give to the miner   
`Priority fee` - most willing to give to miner out of what’s left when max fee is subtracted from basefee, aka miner tip   
`cold access` vs `warm access` - cold access the first time you read a storage slot, warm access when you read it again  

|   type  | address | bool | uint8 | uint16 | uint32 | uint64 | uint128 | uint256 |
|-------|---------|------|-------|--------|--------|--------|---------|---------|
| bytes | 20      | 1    | 1     | 2      | 4      | 8      | 16      | 32      |


`0x40` - the free memory pointer; a "pointer" is an address within memory and the free memory pointer is the address pointing to the start of unallocated, free memory.    
`0x80` - action begins   
`scratch space slots` - [0x00-0x-20), [0x20-0x40)   
`offset` - determines where within the 256-bit slot a particular piece of data begins; eg. if you have two uint128 variables (128 bits in size), the first will start at an offset of 0 and the second will start at an offset of 128.    

[bit masking](https://stackoverflow.com/questions/10493411/what-is-bit-masking) - defines which bits you want to keep, and which bits you want to clear      
`short circuiting` — order matters, cheaper operation first for performance     
`bit shifting` - using << (left shift for multiplication) and >> (right shift for division)     

A transaction costs a base of 21,000 gas; each computational step costs ~2-10 gas (usually); each byte of data costs 16 gas (4 if zero byte); editing a storage slot costs 5,000 gas (20,000 if not yet filled)    
- check != 0 rather than > because <= and >= compile to multiple opcodes (LT/GT followed by ISZERO for inversion), whereas strict inequalities (< and >) only need a single opcode (LT or GT). 
- `struct packing` - using a smaller-sized uint when possible will allow Solidity to pack these variables together     
- `custom errors` - more gas efficient, denoted with `__` two underscores: error FundMe__NotOwner();
  	- Custom Error vs. Require Encoding: both logged but have different topic signatures at the EVM level. Custom errors use own error signature, while requires use a Keccak-256 hash of the error string.   
- `constant` - naming convention ALL_CAPS; more `gas efficient`    
- `immutable` - set inside the constructor but cannot be modified after, more `gas efficient`: `i_owner`, i meaning immutable     
- in testing it's common to prepend storage variables with `s_`
- `unchecked` arithmetic is ok if you know overflowing uint256 is near impossible   
- [function names](https://blog.emn178.cc/en/post/solidity-gas-optimization-function-name/) and [optimized](https://gist.github.com/IllIllI000/a5d8b486a8259f9f77891a919febd1a9)   
- [++i vs i++](https://ethereum.stackexchange.com/questions/133161/why-does-i-cost-less-gas-than-i)    
- [Hardhat gas reporter](https://www.npmjs.com/package/hardhat-gas-reporter) and [Foundry Snapshot](https://book.getfoundry.sh/forge/gas-snapshots?highlight=snapshot#gas-snapshots)

- 5 places to save gas
   1. On deployment
   2. During computation
   3. Transaction data
   4. Memory
   5. Storage

Set optimizer as high as possible until improvement stops; [Uniswap optimizer](https://etherscan.io/address/0xe592427a0aece92de3edee1f18e0157c05861564#code)   

- [Gas puzzles](https://github.com/RareSkills/gas-puzzles)   
- [Yul](https://docs.soliditylang.org/en/latest/yul.html) and [Huff](https://docs.huff.sh/) (lower level bytecode languages) [Huff starter Kit](https://github.com/smartcontractkit/huff-starter-kit) and [Huff basics](https://www.youtube.com/watch?v=UWY27vL1cw4)   
- Solidity vs Vyper [gas comparison](https://github.com/PatrickAlphaC/sc-language-comparison)
- [Salted contract creations / create2](https://docs.soliditylang.org/en/latest/control-structures.html#salted-contract-creations-create2)
- The EVM has a hard limit on the stack depth of 1024. This means that at any point in the execution of a transaction, there cannot be more than 1024 elements on the stack. If an operation tries to exceed this limit, it will fail; This will consume all the gas provided to the transaction.

-----

## Transactions and Signatures: 

### V, R, S in Transactions

In Ethereum, the `V`, `R`, and `S` are components of the ECDSA (Elliptic Curve Digital Signature Algorithm) signature used to verify transaction authenticity:

- **R (32 bytes)**: The x-coordinate of the random point selected during the signing process.
- **S (32 bytes)**: A deterministic value ensuring signature uniqueness and validity.
- **V (1 byte)**: The recovery ID, used to identify the correct public key for signature verification. It also includes the chain ID to protect against replay attacks (EIP-155).

These components allow the network to verify the transaction was signed by the sender's private key and recover the sender's Ethereum address for validation.

-----

## Hacks and [Security](https://docs.soliditylang.org/en/latest/security-considerations.html#pitfalls)
🔖 [Vulnerabilities types](https://github.com/kadenzipfel/smart-contract-vulnerabilities)   
[Defillama Hacks](https://defillama.com/hacks)   

[2022 Auditor Rewind by Patrickd (Secureum)](https://ventral.digital/posts/2022/12/15/ethereum-smart-contract-auditors-2022-rewind)   
[Top 10 Vulnerabilities In Web3](https://medium.com/immunefi/the-top-10-most-common-vulnerabilities-in-web3-bf7a921d489f)   
[Attacks via Consensys Best Practices](https://consensys.github.io/smart-contract-best-practices/attacks/)   

- [Seal-911](https://github.com/security-alliance/seal-911)

- Access Control
  
- [Reentrancy Attacks](https://github.com/pcaversaccio/reentrancy-attacks) - relies on a certain order of operations; a reentrant procedure can be interrupted in the middle of its execution. Following the interruption, the procedure can be called again (“reentered”) before its previous invocations complete execution; exploits “fallback”
     - `single-function`
     - `cross-function` 
     - `cross-contract:` swaps; creator of swap enters into manager contract getting both end of swaps
     - `cross-chain`
     - `read-Only` - a contract is re-entered during a call, but the reentrant call only reads data and doesn't modify state. Even if no state changes, it can still be a vulnerability depending on how the read data is used afterward.   
    
- [Front Running](https://www.youtube.com/watch?v=uElOqz-Htos): `batch overfow` - `gas price pumping` - `prioritized mining`   
   - [Sandwich Attack](https://www.youtube.com/watch?v=26lWg6UIrKw) - a form of front-running and back-running simultaneously, with the original pending transaction sandwiched in between
   - [Etherscan Pending Transactions](https://etherscan.io/txsPending)   
- Flash loans - [pump and arbitrage attack](https://www.youtube.com/watch?v=NifGKCiiX3E&t=779s)
- [Double spending](https://www.investopedia.com/terms/d/doublespending.asp) - 51% is one of the most commonly cited attacks   
- Denial of service (DoS; DDoS attack)   
- Oracle Manipulation - [Awesome-oracle-manipulation](https://github.com/0xcacti/awesome-oracle-manipulation) 
  	- 🔖 [Chainlink Oracle Security Considerations](https://medium.com/cyfrin/chainlink-oracle-defi-attacks-93b6cb6541bf#87fc)   
- [Replay attack](https://learn.bybit.com/blockchain/what-is-a-replay-attack/) - a replay of a transaction primarily taken place while a hard fork is being implemented; a delay or intercept data transmission that occurs over a network. This information can then be processed and repeated numerous times to effectively duplicate transactions   
  
[Quick vulnerabilities walkthrough](https://youtu.be/JMf5P2DXfkM)    
[DeFiHackLabs](https://github.com/SunWeb3Sec/DeFiHackLabs) - to produce DeFi hack incidents using Foundry.   
[DeFiVulnLabs](https://github.com/SunWeb3Sec/DeFiVulnLabs) -learn common smart contract vulnerabilities using Foundry.   

### Known Exploiter addresses: 
   - Conic Finance Exploiter [address](https://etherscan.io/address/0x8d67db0b205e32a5dd96145f022fa18aae7dc8aa)
   - Jared from Subway's MEV bot [address](https://etherscan.io/address/0xae2fc483527b8ef99eb5d9b44875f005ba1fae13)
   - JPEG’D [address](https://etherscan.io/address/0x6ec21d1868743a44318c3c259a6d4953f9978538)    

-----   

### Audits
`What is an audit?` - security focused code review; it is a best effort endeavor, not a guarantee  
[Audit Techniques & Tools 101](https://secureum.substack.com/p/audit-techniques-and-tools-101?utm_campaign=post&utm_medium=web) by Secureum   
[What are the Actual Flaws in Important Smart Contracts](https://arxiv.org/abs/1911.07567v1)     
[Cantina](https://cantina.xyz/welcome)   

🔖 [Weird ERC20](https://github.com/d-xo/weird-erc20#revert-on-zero-value-transfers)  
🔖 [The Solcurity Standard](https://github.com/transmissions11/solcurity) audit checklist    

🔖 [Daily Warden](https://www.dailywarden.com/) - active and upcoming security contests   

Reports 
   - 🔖 [Solodit](https://solodit.xyz/)
   - 🔖 [Code4rena](https://code4rena.com/reports)
     	- [Code4rena github issues](https://github.com/code-423n4)   
   - [Report Blog](https://www.dylandavis.net/2022/06/the-ideal-audit-report/) and [Bowtie's blog](https://bowtiedisland.com/how-to-read-a-smart-contract-audit-report/)
   - use ` ```diff` for report comparison when reporting a block of code
     	```diff
      + this is correct
      - this is incorrect 
      ```
     
1. solidity/evm oriented bugs, this include bugs based on compiler version or certain evm specific bugs
2. Logical bugs, this is arguably the biggest surface for attacks as it can be very project-specific
3. Ecosystem oriented bugs, includes projects explicit and implicit interaction with whole blockchain: frontrunning/sandwiching, oracle manipulations, incorrect integrations, flashloan attacks, all go here

- `timeboxing` - allocate a fixed, maximum amount of time and step out of the rabbit hole; move on. 

Build a racing bot via [4naly3er](https://github.com/Picodes/4naly3er) - open source static analyzer to build on top of   

Most auditor discussions are on Twitter.   
- [Christoph Michel](https://learneos.dev/#packages) (#1 auditor on [Code4Arena](https://code4rena.com/leaderboard)) and [blog](https://cmichel.io/how-to-become-a-smart-contract-auditor/) mentions Khan A. for [Finance](https://www.khanacademy.org/economics-finance-domain/core-finance/derivative-securities))                   
- [Tincho](https://www.youtube.com/watch?v=A-T9F0anN1E&list=PLQj6KMbjsRt7ft3xEtU8WhkK5-TsxDplY&index=5)
- [Pashov](https://twitter.com/pashovkrum) and [Pashov’s audits](https://github.com/pashov/audits/tree/master/solo)   
- [Andy Li's road map](https://youtu.be/-469Gcye-ZE)
- [0kage.eth road map](https://twitter.com/0kage_eth/status/1640795980101742592?s=46&t=ezf5V_RX8d4d4zdIpUUrWQ)   
- [Jackson Kelley](https://www.youtube.com/watch?v=xD0IZh9c8LM)            
- Patrick Collins - [How to Audit a Smart Contract](https://www.youtube.com/watch?v=TmZ8gH-toX0) and Lesson 13: Aave liquidationCall()    
- [Chainlink Auditing 101](https://www.youtube.com/watch?v=0aJfCug1zTM)      
- [Owen Thurm's Channel](https://www.youtube.com/@0xOwenThurm)   
- Blue Alder - [Wallet Mining Walkthrough](https://www.youtube.com/watch?v=7PS-wuIsZ4A)
- [Dacian's blog](https://dacian.me/smart-contract-auditor-portfolio)
- [Volodya's Blog](https://0xvolodya.hashnode.dev/how-i-earned-25000-auditing-and-ranked-1-on-60-day-leaderboard)
- [Blockchain Threat Intelligence Blog](https://newsletter.blockthreat.io/)
- [Addison Spiegel](https://addison.is/posts/curve-whitehat) Curve Finance White Hat
  - [Etherscan transaction](https://etherscan.io/tx/0x006763dff653ecddfd3681181a29e7e6d6c2aaa7bafb27fe1376f3f7ce367c1e)

- [The Auditooor Grindset blog](https://www.zellic.io/blog/the-auditooor-grindset)   
- [5 Solidity Code Smells](https://medium.com/coinmonks/5-solidity-code-smells-87bb2f259dde)   
  
[Simple-security-toolkit](https://github.com/nascentxyz/simple-security-toolkit)   
[Auditing heuristics](https://github.com/OpenCoreCH/smart-contract-auditing-heuristics)   

1. Find a project, search for bugs
2. Find a bug, search for projects
3. Be fast with new updates
4. Know tools

Typical Risk classification:
|Severity level | Impact: High | Impact: Medium | Impact: Low |
| ------------- | ------------- | ------------- | ------------- |
| Likelihood: high  | Critical  | High| Medium  |
| Likelihood: medium | High | Medium  | Low |
| Likelihood: low | Medium | Low | Low |

`High` - leads to a loss of significant portion (>10%) of assets in protocol, harms a majority of users.   
`Medium` - global losses <10% or losses to only a subset of users, but still unacceptable.   
   - `High and Medium` - severity issues ("HM issues”)
     
`Low` - losses will be annoying but bearable--applies to things like griefing attacks that can be easily repaired or even gas inefficiencies.   
`Informational` - findings to improve efficiency   
`Gas efficiencies` - findings to improve efficiency    
`Quality Assurance (QA)` - ensure the functionality, security, and efficiency of the smart contract code.   

----- 

### Testing 

#### Fuzzing

`Fuzzing` - to identify fuzzable functions to successfully fuzz a target, one must comprehend how it functions, establish a basic threat model and decide how to test its security.  
	- `stateless fuzzing` where the state of the previous run is discarded for every new run   
	- `stateful fuzzing` fuzzing where final state of previous run is the starting state of the next run   
   - intro to fuzz tests [Lesson 7](https://youtu.be/sas02qSFZ74?t=281c)
   - [Trail of bits Youtube Workshop](https://www.youtube.com/playlist?list=PLciHOL_J7Iwqdja9UH4ZzE8dP1IxtsBXIhttps://www.youtube.com/watch?v=83q14K-WNKM)  
   - Debugger [7:01:10](https://youtu.be/sas02qSFZ74?list=PL4Rj_WH6yLgWe7TxankiqkrkVKXIwOP42&t=25270)
   - Handler based testing [3:27:25](https://youtu.be/wUjYK5gwNZs?t=12443)  - depth = number of calls in a run
   - [Makefile](https://github.com/the-vegetarian-vampire/Solidity-Smart-Contract-Resources/blob/main/Smart%20Contracts/Makefile)
   - [Hoax](https://youtu.be/sas02qSFZ74?t=5248)   
   - [txGasPrice](https://youtu.be/sas02qSFZ74?t=5753)
   - [Fuzzing Uniswap V4](https://www.youtube.com/live/CwvD8dmTsRc)
	- Assets vs liabilities, end to end (invariant) at any point A ≥ L (e.g. total value held by the protocol must cover user obligations).

`corpus` refers to a collection of input data samples or test cases used to evaluate and test the behavior of a program

Types of fuzzing:       
- Cross-Function Fuzzing        
- Price Feed Manipulation via Fuzzing    
- Storage Slot Packing Fuzzing    
- Decimal Overflow Fuzzing    
- Boundary Condition    

In 𝗳𝗼𝘂𝗻𝗱𝗿𝘆.𝘁𝗼𝗺𝗹 and add: `𝙫𝙞𝙖_𝙞𝙧 = 𝙛𝙖𝙡𝙨𝙚` to opt-out of [Solidity's IR compilation](https://docs.soliditylang.org/en/latest/ir-breaking-changes.html).   
`Cloc` - will count lines of code: once installed: `cloc .`

[Exploiting Precision Loss via Fuzz Testing Article](https://dacian.me/exploiting-precision-loss-via-fuzz-testing)    

 #### Invariant Testing
 1. Function Level Invariant
    - Doesn't rely on system OR could be stateless
    - Can be tested in isolation: Associative property of addition OR depositing tokens in a contract
 2. Syetem Level Invariant
    - Relies on deployment of a large part or entire system
    - Usually stateful: User's balance < total supply OR yield is monotonically increasing

 - Patrick Collins [3:23:40](https://youtu.be/wUjYK5gwNZs?t=12220)   
 - [Rareskills walkthrough](https://www.rareskills.io/post/invariant-testing-solidity)   

[Formal Verifcation](https://www.youtube.com/watch?v=izpoxfTSaFs&t=691s) - proving or disproving the validity of a system using a mathematical model
- symbolic execution - explore different execution paths
- `solc --model-checker-engine chc --model-checker-targets overflow contract.sol`
- smtChecker - built into Solidity

[CEI](https://fravoll.github.io/solidity-patterns/checks_effects_interactions.html) - Checks Effects Interactions 
Arrange Act and Assert   

Test types: [28:43](https://youtu.be/sas02qSFZ74?list=PL4Rj_WH6yLgWe7TxankiqkrkVKXIwOP42&t=1723) - Unit//Integration//Forked//Staging   
     - Using modifiers [1:21:05](https://youtu.be/sas02qSFZ74?list=PL4Rj_WH6yLgWe7TxankiqkrkVKXIwOP42&t=4865)   

`--no-commit` flag tool will simulate the transaction without committing any changes to the blockchain. This can be useful for testing how a contract will behave when certain functions are called, without having to spend gas to actually perform the transaction on the network.   

`mutation testing` is a type of software testing where small changes (mutations) are deliberately introduced into the source code at a single point in time. The purpose is to validate the quality of the existing test cases, ensuring that they are robust enough to detect the changes. Changes that result in test failures indicate adequate test coverage, while changes that do not result in test failures indicate gaps in test coverage. Although mutation testing is a slow process, it allows auditors to focus their review on areas of the codebase that are most likely to contain latent bugs, and it allows developers to identify and add missing tests. See [Necessist](https://github.com/trailofbits/necessist#overview)    

[Trail of Bits Automated Testing](https://appsec.guide/)    
Echidna uses more advanced techniques like generating random transactions with random inputs and also keeps track of those transactions to achieve high coverage. On the other hand, Foundry focuses on generating random inputs for your test functions and has support for excluding certain values.   

-----   

### Bug Bounty
 - [Code4rena](https://code4rena.com/) - [submission policy](https://docs.code4rena.com/roles/wardens/submission-policy)
 - [Cantina](https://cantina.xyz/competitions)
 - [Code Hawks](https://www.codehawks.com/)
 - [Hats Finance](https://hats.finance/)   
 - [Immunefi](https://immunefi.com/)
 - [Remedy](https://hunt.r.xyz/programs)
 - [Sherlock](https://www.sherlock.xyz/) - [judging](https://docs.sherlock.xyz/audits/judging/guide-to-judging-contests) and [payout criteria](https://docs.sherlock.xyz/audits/watsons/meeting-the-payout-criteria)

-----   

## AI

- [Scrappy Web3 Bots](https://github.com/muellerberndt/legion) by muellerberndt

----

## Defi
🔖 [Layer2 Beat](https://l2beat.com/scaling/tvl)   
🔖 [Defi Llama](https://defillama.com/)    

[Eigenphi](https://eigenphi.io/) - tracking data   
[DeFi vs TradeFi](https://coinstove.com/learn/defi-vs-tradfi/)   
Three-part article on Medium:
- [DeFi Lending Concepts Part 1: Lending and Borrowing](https://blog.smlxl.io/defi-lending-concepts-part-1-lending-and-borrowing-f646d6a08dd7)
- [DeFi Lending Concepts Part 2: Liquidations](https://blog.smlxl.io/defi-lending-concepts-part-2-liquidations-7f0f0ffec96c)
- [DeFi Lending Concepts Part 3: Rewards](https://medium.com/smlxl/defi-lending-concepts-part-3-rewards-2fc87e78e9c4)   

[Teach Yourself Crypto](https://teachyourselfcrypto.com/#ftoc-module-4-decentralized-finance-defi) good links; also [Khan Acad.](https://www.khanacademy.org/economics-finance-domain/core-finance/money-and-banking/banking-and-money/v/banking-1)   


|Exchanges | Video| Documentaion | Supported Assets | LP Token |Details | 
| ------------- | ------------- | ------------- | ------------- | ------------- |------------- |
| [Uniswap](https://uniswap.org/)  | [video](https://www.youtube.com/watch?v=yiG82nHWpSc&t=15s)  | [docs](https://docs.uniswap.org/) | ETH & ERC20 |Yes (for bookeeping | Auto router or client side router//Trading fees 0.3% |
| [Curve](https://resources.curve.fi/) | [video](https://www.youtube.com/watch?v=MqRfurKVM1A) | [docs](https://curve.readthedocs.io/index.html)  |  |
| [Sushiswap](https://www.sushi.com/swap)  | [video](https://www.youtube.com/watch?v=NTYbVnENeVo) | [docs](https://github.com/sushiswap) |  |
| [Balancer](https://balancer.fi/) | [video](https://www.youtube.com/watch?v=IX6rUhNC8uA) | [docs](https://docs.balancer.fi/) ||Yes (functional ERC Token)| weighted math; allows own ratios: liquidity bootstrapping pool (LBP); up to 8 assets|
| [PancakeSwap](https://pancakeswap.finance/) | [video](https://www.youtube.com/watch?v=sr9AKeMa5tU) | [docs](https://docs.pancakeswap.finance/) | ||offers limit orders|

----- 
|Lenders | Video| Documentaion | Details  |
| ------------- | ------------- | ------------- | ------------- |
| [Aave](https://aave.com/) | [video](https://www.youtube.com/watch?v=VXlI-uzhBX4) | [docs](https://docs.aave.com/hub/)  | Finnish for ghost, alludes to anonymity of transactions; [Aave Tesnet](https://staging.aave.com/) |
| [Compound](https://compound.finance/) | [video](https://www.youtube.com/watch?v=sIIg2owOz3w) | [docs](https://docs.compound.finance/) |  |

----- 
Dex Aggregators - a service that brings together liquidity from different decentralized exchanges and market makers, helping users find the best price for a given trade
   - [1inch](https://1inch.io/) - [video](https://www.youtube.com/watch?v=BpcP0n44Tf8)
   - [Paraswap](https://www.paraswap.io/)

Derivatives exchange
- [Synthetix](https://synthetix.io/)
- [UMA](https://uma.xyz/)

Lido - [staking](https://www.youtube.com/watch?v=VQ_uvak1JPw)     
[Bancor](https://bancor.network/)

`APY` - [annual percentage yield](https://www.investopedia.com/terms/a/apy.asp)     
`LTV` - [Loan To Value](https://www.investopedia.com/terms/l/loantovalue.asp)  
`LP` - liquidty providers   
`LSTs` - liquid staking tokens   
`LSDs` - liquid staking derivatives   
`PnL` - profit and loss   

`order book model` - an electronic list of buy and sell orders for a specific security or financial instrument organized by price level; lists the number of shares being bid on or offered at each price point, or market depth    

`relayer` - a participant or node that facilitates off-chain matching of orders and assists with on-chain settlement, play a crucial role in decentralized exchange (DEX) protocols and Layer 2 scaling solutions; off-chain order books where they collect and match buy and sell orders from users. By keeping the order book off-chain, relayers can reduce the amount of data that needs to be stored on the blockchain, thereby lowering costs and increasing efficiency; submitting the matched orders to a smart contract that completes the trade on the blockchain itself; `enhance liquidity` and maybe some `compliance` with regulatory requirements.   

`liquidity threshold` -  minimum amount of liquidity needed for market/protocol to function efficiently and avoid excessive price slippage 
- All protocols define their thresholds as some function of collateral:debt (be it a ratio or a difference)
- All protocols leave some room for governance to decide the value of per collateral risk parameter in response to changes in market conditions, as some assets are more volatile than others.
- All protocols denominate their collateral and debt prices using an oracle, in a widely accepted currency (e.g., ETH, USD, DAI).

`bonding curve` is a mathematical curve that defines the relationship between the price and the supply of tokens. It is often used in automated market makers (AMMs).
- **Reserve Pool**: Stores the ETH or base asset backing the token.
- **Bonding Curve Formula**: Determines the token price based on supply.
- **Mint and Burn Logic**:
  - **Mint**: Tokens are minted when users buy them, increasing the total supply.
  - **Burn**: Tokens are burned when users sell them, reducing the total supply.

[Constant product automated makes maker](https://www.youtube.com/watch?v=QNPyFs8Wybk) (CPMMs) are based on the function `x*y=k` which establishes a range of prices for two tokens according to the available quantities (liquidity) of each token. When the supply of token X increases, the token supply of Y must decrease, and vice-versa, to maintain the constant product K.

`kink parameter` - the point in the interest rate model of Compound Finance where the interest rate stops increasing linearly and starts increasing polynomially.   

`Collateralized Debt Position` CDP - the unit of accounting used to track a specific borrowed debt amount, the respective collateral that backs it, as well as the ratio between the value of these two assets, known as the `Individual Collateral Ratio` (ICR).  

----

### Uniswap Versions 1-4

- **Uniswap V1:**
  - Only ETH/token pairs.
  - Simple constant product (x * y = k) AMM.
  - Minimal design and functionality.

- **Uniswap V2:**
  - Supports ERC20/ERC20 pairs.
  - Introduced flash swaps.
  - Added built-in price oracles and improved LP token functionality.

- **Uniswap V3:**
  - Concentrated liquidity, allowing LPs to specify custom price ranges.
  - Multiple fee tiers for improved capital efficiency.
  - Enhanced customization and capital utilization for liquidity providers.

- **Uniswap V4 (Upcoming/Conceptual):**
  - Modular and composable architecture with plug-and-play hooks.
  - Further improvements in gas efficiency and capital optimization.
  - More flexible fee structures and integration enhancements.
 
- [Fuzzing Uniswap V4](https://www.youtube.com/live/CwvD8dmTsRc)
	- Assets vs liabilities, end to end (invariant) at any point A ≥ L (e.g. total value held by the protocol must cover user obligations).
   	- After random sequences of deposits/trades/withdrawals, assert your harness checks assets >= liabilities
- Protocol Phases
	- Genesis: deployment & initial parameters.
	- Operation: normal user flows (deposits, swaps, liquidations).
	- Wind-down: emergency exits, pauses, graceful shutdown.
	- Fuzzing use: target each phase with tailored inputs (e.g. bad init data, stress during run, forced exit).
- Shortcut Functions: helper calls that leapfrog the protocol into complex or edge states to seed fuzzing contexts and accelerate coverage.
- Canary Flaws: small, deliberately injected assertions that should never fire, used to alert you when a fuzzer has reached a dangerous or unexpected path.


----

[Slippage Attacks](https://dacian.me/defi-slippage-attacks)    
[Build a liquidation bot](https://docs.aave.com/faq/liquidations) (docs)/[video](https://youtu.be/gyMwXuJrbJQ?list=PLQj6KMbjsRt7ft3xEtU8WhkK5-TsxDplY&t=72020)    
[Block stuffing](https://www.youtube.com/watch?v=3aPYkx7G7e0) (video) and [finding](https://github.com/code-423n4/2023-05-venus-findings/issues/525)   
Aave [decoupling logic from state](https://twitter.com/RareSkills_io/status/1687116196343406594)    

#### DeFi Reports
[Toxic Liquidation Spirals](https://arxiv.org/abs/2212.07306)   
[Gauntlet’s Aave Market Risk Assessment](https://gauntlet.network/reports/aave)    
[Uniswap V3 TWAP Oracle Risk](https://community.chaoslabs.xyz/uniswap/twap)     
[yAudit Trade Review](https://reports.yaudit.dev/reports/12-2022-RageTrade/#1-high---incorrect-ratios-used-for-delta-neutral-rebalancing)   


----- 

### [MEV](https://ethereum.org/en/developers/docs/mev/) 
Maximal extractable value: as a pending transaction sits in a mempool, miners and validators have found ways to profit from them by including, excluding or reordering transactions in a block.
   1. [Simple MEV bot](https://www.youtube.com/watch?v=dXqp4JqKM_I)
   2. [Jared from Subway’s bot](https://www.youtube.com/watch?v=3YSpbIQ9hVk)
        
[Flashbots.net](https://docs.flashbots.net/)    
[Solid Quant Articles](https://medium.com/@solidquant)    
 - [MEV Bot Templates](https://github.com/solidquant/mev-templates?source=post_page-----72376a820291--------------------------------)

[Flashbots Searcher](https://github.com/flashbots/searcher-sponsored-tx)  - repository contains a simple Flashbots "searcher" for submitting a transaction from an executor account, but paying for the transaction from a sponsor account.   

`Uncle-block Attack` - miners can deliberately exclude certain transactions to later include them in an uncle block, profiting from MEV without executing the transactions.

[Geth](https://geth.ethereum.org/) - official Go implementation of Ethereum protocol; one of many Ethereum clients available, popular and widely used    
[Lighthouse](https://lighthouse.sigmaprime.io/) - one of several Ethereum 2.0 clients being developed to support the new Eth2 protocol. Other Eth2 clients include Nimbus, Teku, and Prysm.   

----- 

### Stablecoins

[Investopedia](https://www.investopedia.com/terms/s/stablecoin.asp) and [Whiteboard Crypto](https://www.youtube.com/watch?v=S7-rfvpEpJs)   
Types   
   1. Fiat based 
   2. Crypto based
   3. Algorithmic

`soft peg` - value not strictly fixed but is instead kept within a certain range relative to another asset.

Dai - [MakerDAO](https://makerdao.com/en/)   
[Frax](https://frax.finance/)   

[Stablecoin Trilemma](https://www.youtube.com/live/x-3PWe5dAQY?feature=share): scalable, decentralized, stable.

Rebase — adding tokens   
Debase — removing tokens    

`seigniorage` - Revenue or a profit taken from the minting of coins; the difference between the face value of money, such as a $10 bill or a quarter coin, and the cost to produce it. In other words, the cost of producing a currency within a given economy or country is lower than the actual exchange value, which generally accrues to governments that mint the money.   

[evergreen](https://www.investopedia.com/terms/e/evergreenfunding.asp) - incremental addition of money into a business by investors; the company receives capital on an established schedule or as the need for funds arises. [video](https://www.youtube.com/watch?v=b_-FrtAfqbw)   

[Spot price](https://www.investopedia.com/terms/s/spotprice.asp) - the current price in the marketplace at which a given asset—such as a security, commodity, or currency—can be bought or sold for immediate delivery    

[Spot Price Manipulation](https://consensys.github.io/smart-contract-best-practices/attacks/oracle-manipulation/) - A smart contract needs to determine the price of an asset, e.g., when a user deposits ETH into its system. To achieve this price discovery, the protocol consults its respective Uniswap pool as a source. Exploiting this behavior, an attacker can take out a flash loan to drain one side of the Uniswap pool. Due to the lack of data source diversity, the protocol's internal price is directly manipulated, e.g., to 100 times the original value. The attacker can now perform an action to capture this additional value. For example, an arbitrage trade on top of the newly created price difference or an advantageous position in the system can be gained.   

----- 
DeFi Wallets to track (TODO add more)       
- [Address 1](https://etherscan.io/address/0xbe23cbb62064b8b1550ae5ada59c39d45b1e2081)

----- 

### Central Banking Reading
Susanne Trimbath - [Naked, Short and Greedy: Wall Street's Failure to Deliver](https://www.amazon.com/Naked-Short-Greedy-Streets-Failure/dp/1910151343)   
Michael Lewis - [Flash Boys](https://www.amazon.com/Flash-Boys-Michael-Lewis-audiobook/dp/B00ICRE1QC/ref=sr_1_1?keywords=flash+boys&qid=1687555418&s=books&sprefix=flash+boys%2Cstripbooks%2C84&sr=1-1) and [The Big Short](https://www.amazon.com/Big-Short-Inside-Doomsday-Machine-ebook/dp/B003LSTK8G)   
Nomi Prins - [Collusion: How Central Bankers Rigged the World](https://www.amazon.com/Collusion-Central-Bankers-Rigged-World/dp/1568585624)    
   - [Quote stuffing](https://en.wikipedia.org/wiki/Quote_stuffing)   
   - [Spoofing](https://en.wikipedia.org/wiki/Spoofing_(finance))   
   - [Glass Steagall](https://en.wikipedia.org/wiki/Glass%E2%80%93Steagall_legislation)   
   - [RegSho](https://en.wikipedia.org/wiki/Naked_short_selling#Regulation_SHO)   
   - [Regulatory capture](https://en.wikipedia.org/wiki/Regulatory_capture)
     
-----   
   
## 🔖 Tools 
  - [Alchemy](https://www.alchemy.com/)
  - [Echidna](https://github.com/crytic/echidna)
       - [Article](https://bushido-sec.com/index.php/2023/07/27/fuzzing-smart-contracts/)
  - [Ethers](https://docs.ethers.org/v5/single-page/)   
  - [Etherscan](https://etherscan.io/)
  - [Foundry](https://book.getfoundry.sh/)
      - [Cheat Codes](https://book.getfoundry.sh/cheatcodes/)
  - [Hardhat](https://hardhat.org/hardhat-runner/docs/getting-started#overview)
      - [Forking mainnet](https://hardhat.org/hardhat-network/docs/guides/forking-other-networks)
      - Import “hardhat/console.sol”; allows for console.log in Solidity contracts
  - [Inline bookmarks](https://marketplace.visualstudio.com/items?itemName=tintinweb.vscode-inline-bookmarks) // @audit this code seems vulnerable here
  - [Medusa](https://github.com/crytic/medusa)     
  - [Mythril](https://github.com/ConsenSys/mythril)
       - uses symbolic execution, SMT solving and taint analysis to detect a variety of security vulnerabilities
       - [MythX](https://github.com/muellerberndt/awesome-mythx-smart-contract-security-tools)
- [Necessist](https://github.com/trailofbits/necessist) - iteratively removes statements and method calls from tests and then runs them. If a test passes with a statement or method call removed, it could indicate a problem in the test. Or worse, it could indicate a problem in the code being tested.
- [Semgrep smart-contracts - DeFi](https://github.com/Decurity/semgrep-smart-contracts) - *Need/Want more info on this
- [Slither](https://github.com/crytic/slither)
      - [Slither wiki](https://github.com/crytic/slither/wiki/Usage) // [Foundry Slither](https://book.getfoundry.sh/config/static-analyzers#slither) // [Issues](https://github.com/crytic/slither/issues/1121) // [Blog overview](https://blog.trailofbits.com/2019/05/27/slither-the-leading-static-analyzer-for-smart-contracts/) // [Immunefi video](https://www.youtube.com/watch?v=gRJvvXOF_3c)   
      - `slither path/contract.sol --solc-remaps "@=node_module@"` -  to fix   
      - [Printers](https://github.com/crytic/slither/wiki/Printer-Documentation)      
      -  `--print human-summary` `--triage-mode` `--print function-id` `slither . --print cfg` (control flow graph)   
      - `--print function-summary`   
      -  `--print constructor-calls` `--print modifiers` `--print variable-order` (slots and offset)   
      -  `slither-check-erc path ContractName --solc-remaps @=node_modules/@`   
      -  `slither-find-paths file.sol [contract.function targets]`   
      - [slither-read-storage](https://github.com/crytic/slither/blob/master/slither/tools/read_storage/README.md)      
- [Rattle](https://github.com/crytic/rattle) - binary static analysis   
- [Wagmi](https://wagmi.sh/)   
- [Web3.js](https://web3js.org/#/)
- [Web3Bugs](https://github.com/ZhangZhuoSJTU/Web3Bugs)

[Metadock](https://chrome.google.com/webstore/detail/metadock/fkhgpeojcbhimodmppkbbliepkpcgcoo/related) - extends Etherscan; "Proxy Upgrade Log"   
[Visualizer tool](https://github.com/naddison36/sol2uml)   

--- 

### Contract Deployment
- `forge build --vv` - verbose compiling
- `forge build --via-ir --vv` - Intermediate Representation (IR)-based compilation; can enable in the TOML file: [profile.default] via_ir = true
    
-----
### Wallets
[Rabby](https://rabby.io/)   
[Metamask](https://metamask.io/)   
[Loopring](https://wallet.loopring.io/)   
[Ledger](https://www.ledger.com/)   

-----
## Teams to Connect With  
- [Chainalysis](https://www.chainalysis.com/)
- [Chainlink](https://chain.link/)   
- [Consensys](https://consensys.net/about/)   
- [Cyfrin](https://www.cyfrin.io/)   
- [Secureum](https://www.secureum.xyz/)      
- [Spearbit](https://spearbit.com/)  
- [Trail of Bits](https://www.trailofbits.com/) 
- [YAcademy](https://yacademy.dev/about/)      
- [Zellic](https://www.zellic.io/)

-----
## Jobs
- [CryptoJobList](https://cryptojobslist.com/solidity?sort=recent)   
- [Arbitrum](https://jobs.arbitrum.io/jobs)
- [Bankless](https://bankless.pallet.com/jobs)   
  
-----  
 
## Abstracts: In Depth Understanding
Bitcoin [whitepaper](https://bitcoin.org/bitcoin.pdf)     
Ethereum [whitepaper](https://ethereum.org/en/whitepaper/) (periodically updated)   
Uniswap V3 [whitepaper](https://uniswap.org/whitepaper-v3.pdf)   

[Merkle Trees](https://en.wikipedia.org/wiki/Merkle_tree)      

[Improving the Efficiency and Reliability of Digital Time-Stamping](http://math.columbia.edu/~bayer/papers/Timestamp_BHS93.pdf)       
[Secure Names for Bit-Strings](https://nakamotoinstitute.org/static/docs/secure-names-bit-strings.pdf)      
[Anonymous Payments Lecture](https://www.youtube.com/watch?v=Z0s4W3UBxM8)

[Academic Smart_Contract_Papers](https://github.com/hzysvilla/Academic_Smart_Contract_Papers)   

[More Resources](https://github.com/PatrickAlphaC/Blockchain-Development-Resources#youtube-channels) from Patrick Collins   

----- 
  
## Tokens
Ethereum Request for Comment (ERC)

* [ERC-20](https://ethereum.org/en/developers/docs/standards/tokens/erc-20/) - for fungible assets. 
* [ERC-721](https://docs.openzeppelin.com/contracts/2.x/api/token/erc721) - for non-fungible assets.
* [ERC-1155](https://ethereum.org/en/developers/docs/standards/tokens/erc-1155/) - Multi Token Standard to to create fungibility-agnostic and gas-efficient token contract (gaming, batch minting, batch balance; batch transfer, batch approve) [video](https://www.youtube.com/watch?v=Ai7A-_umm08)   
* [ERC-4626](https://ethereum.org/en/developers/docs/standards/tokens/erc-4626/) - to optimize and unify the technical parameters of yield-bearing vaults
* [ERC-3156](https://eips.ethereum.org/EIPS/eip-3156) - flash Loans  
* ERC-918 - Mineable Token Standard.
* ERC-165 - standard method to publish and detect what interfaces a smart contract implements.
* ERC-725 - interface for a simple proxy account.
* ERC-173 - interface for ownership of contracts.  
* [ERC-2981](https://eips.ethereum.org/EIPS/eip-2981) - to retrieve royalty payment information across all NFT marketplaces and ecosystem participants
* [ERC-1167](https://eips.ethereum.org/EIPS/eip-1167) - Minimal Proxy Contract to simply and cheaply clone contract functionality in an immutable way   

NFT's and Atomic NFT's [lecture](https://youtu.be/tVyS3Ut_1eE?t=2535) with Ari Juels of whom with Sergey Nazarov co-authored a white paper introducing the [Chainlink](https://en.wikipedia.org/wiki/Chainlink_(blockchain)) protocol.   

-----  

## Dictionary of Key Terms (Solidity) 
###### Broader [Crypto dictionary](https://coinmarketcap.com/alexandria/glossary) of terms or [General](https://medium.datadriveninvestor.com/crypto-vocabulary-expanded-76131d26537b)    

`63/64 rule of EIP-150` - to prevent denial-of-service attacks involving deep call stacks in Ethereum:
    * ensures when calling another contract using CALL, DELEGATECALL, or similar opcodes, the calling contract can only pass at most 63/64ths (about 98.4%) of its remaining gas to the called contract.
    * This guarantees the calling contract always retains a small portion (at least 1/64th) of its gas, allowing for safe termination and error handling, mitigating out-of-gas attacks.    

 `Aave` - decentralised non-custodial liquidity market protocol where users can participate as suppliers or borrowers. Suppliers provide liquidity to the market to earn a passive income, while borrowers are able to borrow in an overcollateralised (perpetually) or undercollateralised (one-block liquidity) fashion; Stani Kulechov [interview](https://www.youtube.com/watch?v=PA9QrrH-ze0) by Haseeb Qureshi -- [Aave website](https://app.aave.com/)    

`ABI` - application binary interface specifies set of functions that can be accessed outside of smart contract; similar to a JSON; Abi.encodePacked - breaks down, via [cheatsheet](https://docs.soliditylang.org/en/latest/cheatsheet.html); [Abi.decode](https://youtu.be/gyMwXuJrbJQ?list=PLQj6KMbjsRt7ft3xEtU8WhkK5-TsxDplY&t=81282); Great Patrick Collins section [22:16:31](https://youtu.be/gyMwXuJrbJQ?list=PLQj6KMbjsRt7ft3xEtU8WhkK5-TsxDplY&t=80191) and [ABI encoding](https://youtu.be/sas02qSFZ74?list=PL4Rj_WH6yLgWe7TxankiqkrkVKXIwOP42&t=30003) and [difference between encoding](https://forum.openzeppelin.com/t/difference-between-abi-encodepacked-string-and-bytes-string/11837)   
 - [Xdeadbeefx blog: The Double-Edged Sword of abi.decode](https://medium.com/@0xdeadbeef0x/the-double-edged-sword-of-abi-decode-f81529e62bcc)  

`address` - (Ethereum; other blockchains will be different) 42-character hexadecimal address derived from the last 20 bytes of the public key controlling the account with 0x appended in front `0x0cE446255506E92DF41614C46F1d6df9Cc969183`      

`Air state` - algebraic intermediate representation: In zero-knowledge proofs (ZKPs), particularly in STARKs (Scalable Transparent Argument of Knowledge), AIR is a mathematical framework used to describe computations in a way that can be efficiently verified; It defines a set of constraints that an execution trace must satisfy.    

[airdrop](https://www.coindesk.com/learn/what-is-a-crypto-airdrop/) - involve blockchain-based projects and developers sending out free tokens to members of their communities as part of a broader marketing initiative.    

`Alpha` - in finance it refers to excess return of an investment relative to the return of a benchmark index   

[AMM](https://www.youtube.com/watch?v=1PbZMudPP5E) - Automated Market Maker; underlying protocol that powers all decentralized exchanges (DEXs), DEXs help users exchange cryptocurrencies by connecting users directly, without an intermediary; autonomous trading mechanisms that eliminate the need for centralized exchanges; drawback: susceptible to front running because of publicity in mempool    

`Anti-Patterns` - common coding practices or design patterns in smart contract development that lead to insecure, inefficient, or unmaintainable code.
**Common Examples:**
- **Reentrancy Vulnerability:**  
  Failing to follow the Checks-Effects-Interactions pattern, enabling malicious reentrant calls.
- **Using `tx.origin` for Authentication:**  
  Relying on `tx.origin` instead of `msg.sender` to validate callers, which can be exploited by phishing attacks.
- **Unbounded Loops:**  
  Implementing loops without proper limits, risking excessive gas consumption and transaction failure.
- **Direct Ether Transfers Without Checks:**  
  Using methods like `transfer` or `call` without proper error handling, which may lead to lost funds.
- **Lack of Input Validation:**  
  Not validating inputs or state, leading to unexpected behavior or vulnerabilities.
- **Hardcoding Critical Values:**  
  Embedding constants in code that should be configurable, reducing flexibility and increasing risk.
- **Overly Complex Inheritance:**  
  Using deep or circular inheritance structures that complicate auditing and increase error risk.
- **Improper Use of Libraries:**  
  Not leveraging safe math libraries (or relying on outdated versions), leading to potential overflows/underflows.

`Application-specific integrated circuit` or [ASIC](https://www.businessinsider.com/personal-finance/asic-mining?op=1) - The most powerful computer has the greatest chance of solving the puzzle, and so ASIC mining was created to maximize the possibility of mining; see also [GPU](https://en.wikipedia.org/wiki/Graphics_processing_unit)    

`arrays` - fixed [2] length of 2 elements and dynamic [] arrays with no fixed size; can also create an array of structs or 2D array     

`assertEQ` - Assert a is [equal](https://book.getfoundry.sh/reference/forge-std/assertEq) to b    

[atomic swap](https://www.investopedia.com/terms/a/atomic-swaps.asp) - an exchange of cryptocurrencies from separate blockchains; the term "atomic state" in which a state has no substates; it either happens or it doesn't—there is no other alternative. 

[Beacon Chain](https://ethereum.org/en/roadmap/beacon-chain/) -  introduced proof-of-stake to the Ethereum ecosystem; was a [separate chain](https://www.alchemy.com/overviews/what-is-the-ethereum-beacon-chain) from the original Ethereum Mainnet, running side-by-side that merged with the original Ethereum proof-of-work chain in September 2022; [withdrawals](https://ethereum.org/en/staking/withdrawals/)   

`Beacon in Proxies`  - a beacon is a contract that provides the implementation address for proxies, allowing multiple proxies to upgrade their logic by just updating the beacon.

`Black Thursday` [article](https://decrypt.co/61200/bitcoin-black-thursday-one-year-later) - Thursday March 12th, 2020: cryptocurrency markets suddenly collapsed (in tandem with traditional markets), with bitcoin prices getting halved in less than a day.   

`blob` - binary large object is a collection of data of an arbitrary size. Blobs do not have to follow a given format or have any metadata associated with them. They are a series of bytes, with each byte made up of 8 bits (a 1 or a 0, hence the "binary" descriptor). Any type of data can go in a blob; efficient and cheap transaction.   

`block.timestamp` - convert a uint of the number of seconds in that length of time. So 1 minutes is 60, 1 hours is 3600 (60 seconds x 60 minutes), 1 days is 86400 (24 hours x 60 minutes x 60 seconds), find on [cheatsheet](https://docs.soliditylang.org/en/latest/cheatsheet.html)    

`bridges` - a blockchain [bridge](https://blog.makerdao.com/what-are-blockchain-bridges-and-why-are-they-important-for-defi/): and [Youtube](https://www.youtube.com/watch?v=xS0PyYpt6bA) connects two blockchain ecosystems. Bridges facilitate communication between blockchains through the transfer of information and assets.   

`bridge loan` - short-term loan allowing users to temporarily borrow funds (often stablecoins or major crypto assets) while awaiting other liquidity sources, such as the settlement of cross-chain asset transfers, DeFi protocol withdrawals, or yield farming returns.

`Byzantine fault` or [Byzantine generals problem](https://en.wikipedia.org/wiki/Byzantine_fault) - a condition of a computer system, particularly distributed computing systems, where components may fail and there is imperfect information on whether a component has failed; thus the reason for Proof of Work  

`CFMM` - Constant Function Market Makers: [article](https://medium.com/bollinger-investment-group/constant-function-market-makers-defis-zero-to-one-innovation-968f77022159)   

`clustering` - tracing bitcoin via blockchain analysis; tracing Bitcoin user wallets by tracking wallet “change” creation; using tags; peel chains [How to Peel a Million: Validating and Expanding Bitcoin Clusters](https://arxiv.org/pdf/2205.13882.pdf) Sarah Meiklejohn and team; also [A Fistful of Bitcoins: Characterizing Payments Among Men with No Names](https://cseweb.ucsd.edu/~smeiklejohn/files/imc13.pdf)   

`codecopy` - copying code from one place to another is handled by the `opcode` codecopy, [see article](https://medium.com/coinmonks/ethernaut-lvl-19-magicnumber-walkthrough-how-to-deploy-contracts-using-raw-assembly-opcodes-c50edb0f71a2)   

`Compound` - a DeFi lending protocol that allows users to earn interest on their cryptocurrencies by depositing them into one of several pools      

`coinbase transaction` - the first transaction in a block. Miners use it to collect the block reward, and any additional transaction fees.   

`commit-reveal scheme` - two-step process where users first commit to a choice without revealing it. Later, they reveal their choice. This prevents others from seeing the original choice until the reveal stage. Used for voting, random number generation, etc.   
	- Rock-Paper-Scissors Game Design: Use a commit-reveal scheme. Players first commit (send hash of their choice + secret) and then reveal in the next step.   

`constant` - naming convention ALL_CAPS; more `gas efficient`   

`constructor` - called once when contract is deployed
	- [intitialize function](https://stackoverflow.com/questions/72475214/solidity-why-use-initialize-function-instead-of-constructor) : The contract’s constructor is automatically called during contract deployment.But this is no longer possible when proxies are in play, as the constructor would change only the implementation contract’s storage (Contract B), not the storage of the proxy contract (Contract A), which is the one that matters. Therefore, an additional step is required. We need to change the constructor in a regular function. This function is conventionally called initialize or init, this function will be called on the proxy contract once both contracts have been published, so as to save all changes of state on the proxy contract (contract A) and not on the implementation (contract B)

`creation code` - only executed by the EVM once during the transaction that creates the contract.  gets executed in a transaction, which returns a copy of the runtime code, which is the actual code of the contract. The contract’s constructor is part of the creation code; it will not be present in the contract’s code once it is deployed.   

[custom errors](https://soliditylang.org/blog/2021/04/21/custom-errors/) - declared at top, more `gas efficient`    

`DAI` - stablecoin on the Ethereum blockchain whose value is pegged to $US   

`dark forest` - “all people with nodes on major blockchains grinding on mempool transactions” - 9:40 [Andrew Miller AMA](https://www.youtube.com/watch?v=IwRfEsX07MU) and later mentions [David Chaum](https://en.wikipedia.org/wiki/David_Chaum) Dan Robinson’s [blog post](https://www.paradigm.xyz/2020/08/ethereum-is-a-dark-forest)    

`data Locations` - Storage, Memory and Calldata
  1. storage - variable is a state variable (store on blockchain)
  2. memory - variable is in memory and it exists while a function is being called
  3. calldata - originates as part of the transaction payload sent to the blockchain. When a transaction is broadcasted, the calldata is included in the transaction and passed to the EVM upon execution. It is stored in the RLP-encoded transaction on-chain, accessible only during execution. resides in a virtualized region of the EVM's memory that behaves similarly to other stack-based memory structures. It exists only during the execution of the transaction and is discarded immediately after the transaction ends. (Special data location that contains function arguments): [decoding calldata](https://youtu.be/sas02qSFZ74?t=38028)
  	- Cost for setting a storage slot from zero to non-zero (higher gas cost).  
     	- Cost for modifying a storage slot that is already non-zero (medium gas cost).
     	- CALLDATALOAD: Loads 32 bytes of calldata starting at a specific offset.
     	- CALLDATACOPY: Copies a segment of calldata to memory.
     	- CALLDATASIZE: Returns the total size of the calldata.

`delegatcall` - identical to a message call apart from the fact that the code at the target address is executed in the context; a contract can dynamically load code from a different address at runtime. Storage, current address and balance still refer to the calling contract, only the code is taken from the called address. Pattick Collins explanation [1:05:07:37](https://youtu.be/gyMwXuJrbJQ?list=PLQj6KMbjsRt7ft3xEtU8WhkK5-TsxDplY&t=104857); [shorter video](https://www.youtube.com/watch?v=uawCDnxFJ-0)      

`describe ()` - function in [Jasmine](https://stackoverflow.com/questions/12209582/the-describe-keyword-in-javascript) framework used for testing   

`deterministic algorithm` - an [algorithm](https://en.wikipedia.org/wiki/Deterministic_algorithm) that, given a particular input, will always produce the same output, with the underlying machine always passing through the same sequence of states  

`Discrete Log Contracts (DLCs)` - blockchain-based protocols used to create secure and private smart contracts that rely on real-world events or off-chain data, without needing to trust a single oracle. They were initially proposed by Thaddeus Dryja, co-author of the Lightning Network paper.    
 - Transaction details remain private, as only contract participants and oracles know the details.
 - Oracles can't manipulate or even know how their data is used. Parties don't need to trust an oracle fully—just their honesty in publishing data.
 - DLCs scale well since most interactions occur off-chain. Blockchain is primarily used for settlement.
 
`dutch auction` - a descending price auction; an auctioneer starts with a very high price, incrementally lowering the price until someone places a bid   

`elliptic curve` - [elliptic curve cryptography](https://medium.com/coinmonks/learn-how-to-code-elliptic-curve-cryptography-a952dfdc20ab) with fastecdsa library; also OZ's [ECDSA](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/cryptography/ECDSA.sol) - Elliptic Curve Digital Signature Algorithm (ECDSA) operations used to verify a message was signed by the holder of the private keys of a given address.   
  
`enums` - useful to model choice and keep track of state/can be declared outside of a contract   

`ENS - Ethereum Name Service` -  distributed, open, and extensible naming system based on the Ethereum blockchain; [documents](https://docs.ens.domains/) and [video](https://www.youtube.com/watch?v=P8RlPsjGaR8)   

`EIP` - (Ethereum Improvement Proposal) a formal proposal to alter some element of the Ethereum network   

`EOA` - Externally Owned Account; in general, there are two types of accounts: externally owned accounts, controlled by private keys, and contract accounts, controlled by their contract code   

`events` - allow logging to the Ethereum blockchain; Use cases for events are: Listening for events and updating user interface; cheap form of storage 
	- Anonymous Solidity Event - does not store its signature in the topics list of the log. Instead, only the arguments are stored.

`EVM` - Ethereum is a stack based architecture, single threaded.   

`factory contract` - a smart contract that deploys and manages other contracts. It acts as a blueprint for creating multiple instances of a contract dynamically on-chain.

`fallback` - special function executed either when a function that does not exist is called or Ether is sent directly to a contract but receive() does not exist or msg.data is not empty; fallback has a 2300 gas limit when called by transfer or send    

`flattened contract` - taking a contract that uses import statements and merging it with all of its dependencies into a single .sol file, with no imports remaining; use the solidity-flattener or [forge-flatten](https://book.getfoundry.sh/reference/forge/forge-flatten#forge-flatten): Example: `forge flatten src/MyContract.sol --output out/Flat.sol`

`flashbots` - [independent project](https://ethereum.org/en/developers/docs/mev/) which extends execution clients with a service allowing searchers to submit MEV transactions to validators without revealing them to the public mempool; prevents transactions from being frontrun by generalized frontrunners; [video](https://www.youtube.com/watch?v=Zt15wrSDVxc)  
   - How to build [flashbots](https://www.youtube.com/watch?v=gme0uNyIIsE)

`flash loan` - a smart contract transaction in which a lender smart contract lends assets to a borrower smart contract with the condition that the assets are returned, plus an optional fee, before the end of the transaction. This ERC specifies interfaces for lenders to accept flash loan requests, and for borrowers to take temporary control of the transaction within the lender execution. The process for the safe execution of flash loans is also specified.

`flash-swap` - all trades must occur during single transaction: opportunity for arbitragers   

`floating point arithmetic` - Solidity doesn't support floating point arithmetic natively due to the deterministic nature of the Ethereum Virtual Machine (EVM). Floating point operations can lead to imprecise calculations, which are not suitable for financial operations on a blockchain where exactness is paramount. However, developers can use fixed-point arithmetic libraries to achieve decimal-like precision.   

`flooding` - [routing](https://en.wikipedia.org/wiki/Flooding_%28computer_networking%29)   

`fork` - [investopedia](https://www.investopedia.com/terms/h/hard-fork.asp) "To fork or not to fork? - a radical change to a network's protocol that makes previously invalid blocks and transactions valid, or vice-versa. A hard fork requires all nodes or users to upgrade to the latest version of the protocol software; twitter [status](https://twitter.com/christine_dkim/status/1651999278997417998?s=20)    

`function selector` - first 4 bytes of the function signature: ex: 0xa9059cbb; excellent Patrick Collins section [22:46:43](https://youtu.be/gyMwXuJrbJQ?list=PLQj6KMbjsRt7ft3xEtU8WhkK5-TsxDplY&t=82003); [shorter video](https://www.youtube.com/watch?v=Mn4e4w8h6n8); there can be function selector clashes   
`function signature` - string that defines function name & parameters: ex: “transfer(address, uint256)”   

[visibility specifiers](https://docs.soliditylang.org/en/latest/cheatsheet.html#:~:text=Type%20Information.-,Function%20Visibility%20Specifiers,%EF%83%81,-open%20in%20Remix) 
 - `public` makes the function callable from any contract. If no visibility is specified for a function, it defaults to public.
 - `external` makes the function callable only from other contracts. These functions are often used for interactions between contracts. Note that they cannot be called internally, i.e., from within the same contract.
 - `private` makes the function callable only from within the contract where it is defined.
 - `internal` makes the function callable only from within the contract where it is defined, or from contracts that derive from it (i.e., contracts that inherit from it).
 - `view` used for functions that do  not alter the state of the contract (i.e., they don't change any state variables).
 - `pure` used for functions that not only do not alter the state of the contract, but also do not access any data in the contract. These functions solely operate on their input parameters.
 - `payable` allows a function to receive Ether together with a call. If a function is not marked payable, it will reject any Ether sent to it.
 - Public `state variables` automatically generate getter functions.   

`fuzzing` - or fuzz testing involves providing invalid, unexpected, or random data as inputs in an attempt to break/crash the system   

`gas` - transactions with higher gas price have higher priority to be included in a block;   

 `genesis block`- the first block mined on a [blockchain](https://www.investopedia.com/terms/g/genesis-block.asp)     

 [Graph, The](https://www.youtube.com/watch?v=7gC7xJ_98r8) - Google for the blockchain; querying and indexing the blockchain    

 `griefing` - malicious/trollish behavior where an actor intentionally disrupts or harms the user experience without benefit to themselves   

`hashcash` - a proof-of-work system invented by Adam Back in 1997 as a way to prevent email spam [precursor to Bitcoin](https://nakamoto.com/hashcash/)   

`Hashed Timelock Contract` or (HTLC) reduces counterparty risk by creating a time-based escrow that requires a cryptographic passphrase for unlocking via [investopedia](https://www.investopedia.com/terms/h/hashed-timelock-contract.asp)    

[heartbeat, oracle](https://docs.chain.link/data-feeds/price-feeds/addresses/?network=ethereum) click show more details - refers to an oracle providing regular updates at fixed intervals   

`Howey Test` - refers to the U.S. Supreme Court [case](https://www.investopedia.com/terms/h/howey-test.asp) for determining whether a transaction qualifies as an "investment contract," and therefore would be considered a security; (per Infinite Machine Chp. White-Shoe Lawyers) Ether presale was classified as a utility, a function of ethereum and therefore not a security; manner distribution of a product and not as a speculative investment; essentially a utility token   

`immutable` - can be set inside the constructor but cannot be modified afterwards, more `gas efficient`: `i_owner` - i meaning immutable   

`impermanent loss` - a temporary loss of funds occurring when providing liquidity; occurs when the mathematical formula adjusts the asset ratio in a pool to ensure they remain at 50:50 in terms of value and the liquidity provider loses out on gains from a deposited asset that outperforms; [whiteboard crypto video](https://www.youtube.com/watch?v=_m6Mowq3Ptk)   

`interface` - a list of function definitions without implementation. In other words, an interface is a description of all functions that an object must have for it to operate; convention preface `I` as in IERC721; [video](https://www.youtube.com/watch?v=tbjyc-VQaQo)   

`internal` - can't be called directly from outside the contract; same as private, except it's accessible to contracts that inherit  

`interoperability` - the ability of independent distributed ledger networks to communicate with each other, exchange and make use of data; ability to move a digital asset between two or more blockchains while maintaining the state and uniqueness of the asset consistent throughout the process    

`invariant` - [invariant](https://en.wikipedia.org/wiki/Class_invariant) a computer programming construct consisting of a set of invariant properties that remain uncompromised regardless of the state of the object; a property of a system that should always hold   
   - Stateless fuzzing: where the state of the previous run is discarded for every new run   
   - Stateful fuzzing: fuzzing where final state of previous run is the starting state of the next run   

`IPFS` - InterPlanetary File System [(IPFS)](https://docs.ipfs.tech/) a set of composable, peer-to-peer protocols for addressing, routing, and transferring content-addressed data in a decentralized file system; see also [Swarm](https://www.ethswarm.org/)      

`it()` - defined by the jasmine [testing framework](https://stackoverflow.com/questions/28353232/what-is-the-it-function-here-doing), to declare the expected output and have a fair check if it matches the coded conditions    

`import path resolution` - name [import](https://docs.soliditylang.org/en/latest/path-resolution.html)

`Keccak256` - [SHA-3](https://en.wikipedia.org/wiki/SHA-3)/Secure Hash Algorithm; using it in a [contract](https://www.youtube.com/watch?v=wCD3fOlsGc4)  

`Know Your Customer` or KYC - guidelines and regulations in financial services that require professionals to verify the identity, suitability, and risks involved with maintaining a business relationship with a customer; providing documents AML (anti money laundering)    

`layer 0` - the underlying infrastructure upon which multiple Layer 1 blockchains can be built; a network framework running beneath the blockchain. It is made up of protocols, connections, hardware, miners, and more that forms the foundation of the blockchain ecosystem. Layer: 0, 1, 2, 3 etc.   
   
`linting` - the process of running a program that will analyze code for potential errors (verifying code quality) [eslint](https://eslint.org/)   

[liquidity pool](https://www.youtube.com/watch?v=dVJzcFDo498) - a smart contract containing large portions of cryptocurrency, digital assets, tokens, or virtual coins locked up and ready to provide essential liquidity for networks that facilitate decentralized trading

`magic number` [wiki](https://en.wikipedia.org/wiki/Magic_number_(programming)) unique value with unexplained meaning or multiple occurrences which could (preferably) be replaced with a named constant   

`memepool` - or [memory pool](https://www.alchemy.com/overviews/what-is-a-mempool) is a dynamic staging area in front of the blockchain that enables transaction ordering, fee prioritization, and general block construction; a list of pending transactions waiting for validation from a node before it is committed to a block on the blockchain   

`meta-transactions` - a transaction without the end-user directly paying for gas: users sign transactions off-chain, and a third-party service called a relayer submits the transaction to the blockchain, paying gas on the user's behalf    

`MEV` - maximal (formerly miner) extractable value; referred to as an “invisible tax” that miners can collect from users – essentially, the maximum value a miner can extract from moving around transactions when producing a block on a blockchain network; [video](https://youtu.be/u4sV-Btg1Ag)   

`mocking`- creating objects that simulate the behaviour of real objects; primarily used in unit testing; [Patrick Collins mocks](https://youtu.be/sas02qSFZ74?t=2553)    
 
`modifier` - `_;` check requirements prior to execution code that can be run before and/or after a function call
  1. Restrict access
  2. Validate inputs
  3. Guard against reentrancy hack   
  
`msg.sender` - there will always be a msg.sender; one who call contract  

`musked` - refers to the transaction payload being obfuscated or spoofed (always verify transactions at the smart contract data level, not just UI)

[Named imports](https://youtu.be/umepbfKp5rI?t=13460)    

`NatSpec` - Ethereum Natural Language Specification [Format](https://docs.soliditylang.org/en/v0.8.19/natspec-format.html) @title and @author are straightforward; @notice explains the contract function does; @dev is for explaining extra details to developers; @param and @return are for describing what each parameter and return value of a function are for  

`Nick Szabo` - [Nick Szabo](https://en.wikipedia.org/wiki/Nick_Szabo) coined the phrase and concept of "smart contracts"   

`node` - blockchains are decentralized, immutable, digital ledgers shared across a peer-to-peer network. Acting as a database, transaction data is permanently recorded, stored and encrypted onto the “blocks” that are then “chained” together. The physical, electronic devices (a computer, typically) that maintain copies of the chains webbing a network together, keeping the blockchain operational, are called [nodes](https://builtin.com/blockchain/blockchain-node) 
- lightweight nodes - are downloaded wallets connected to full nodes for validating the data stored on the blockchain. Simple Payment Verification (SPV) node or lightweight node is used in day-to-day crypto operations.   
  
`nonce` - transaction code for this account starting with 0; makes transactions unique; important regarding concurrency; If the account is an externally owned account, this number represents the number of transactions sent from the account’s address. If the account is a contract account, the nonce is the number of contracts created by the account; [short video](https://youtu.be/EOgpr73-pgc)    

`Omner blocks` - previously Uncle, it's possible for two blocks to be created simultaneously by a network. When this happens, one block will be left out. This leftover block is called an ommer block. In the past, they were called uncle blocks, referring to the familial relationships used to describe block positions within a blockchain  

`Opcode` - operation code; the portion of a machine language instruction that specifies the operation to be performed; see gas [Opcode](https://github.com/crytic/evm-opcodes)   

`oracle` - entities that connect blockchains to external systems, thereby enabling smart contracts to execute based upon inputs and outputs from the real world; a way for the decentralized ecosystem to access existing data sources, legacy systems, and advanced computations (blockchain middleware); also `oracle manipulation` via flash loans etc...   

`ownable` - an [owner](https://docs.openzeppelin.com/contracts/4.x/api/access#Ownable) who has special privileges   

`permission vs permissionless` - [comparison](https://permission.io/blog/permissioned-vs-permissionless-blockchain/) permissioned blockchains are distributed ledger technology (DLT) that sacrifice some degree of decentralization and anonymity to better suit business needs as well as achieve higher network speed and efficiency.   

`PII` - personal Identifying information.   

`proof of concept` - piece of code that demonstrates the vulnerability is exploitable; 100Proof's [sample](https://github.com/one-hundred-proof/notional-flash-attack)  

`private functions` - it's convention to start private function names with an underscore (_): function `_functionname()` private {}    

`private relayers` - "flashbots protect; no one sees transaction and can't front run it" per 32:50 of [Dan Robinson AMA](https://www.youtube.com/watch?v=Lz7g0ny99jk) (e.g., Flashbots, Bloxroute, Ethermine, Eden)    

`Proxies` - [abstract contract](https://docs.openzeppelin.com/contracts/4.x/api/proxy) implementing the core delegation functionality (upgrading a smart contract with a new one via delegatecall) dangers include: storage clashes and function selector clashes; Patrick Collins sample [1:05:16:02](https://youtu.be/gyMwXuJrbJQ?list=PLQj6KMbjsRt7ft3xEtU8WhkK5-TsxDplY&t=105362); [shorter video](https://youtu.be/NK9Dp54YEWU?t=255)   
   - implementation contract
   - proxy contract --> points to correct implementation
   - the user makes calls to proxy
   - the admin decides which contract to upgrade etc
   - small proxies, usually referred to as `clones` can be used to deploy code only once and re-use it over and over again.

`pull based patterns` - refer to design approaches where actions, funds, or data are retrieved on-demand ("pulled") by users or external actors rather than being automatically "pushed" by the contract. Instead of automatically sending funds, the contract credits a user’s balance and lets them withdraw funds via a dedicated function.
  - **Reentrancy Mitigation:** Isolates external calls from critical state updates.
  - **Gas Efficiency:** Avoids running into gas limit issues during automatic transfers.
  - **Fault Tolerance:** Prevents failed transfers from affecting overall contract operation.
- **Example:** OpenZeppelin’s `PullPayment` contract.

Data/Action Pattern    
- **Definition:** Instead of pushing state updates or data, the contract stores the necessary information for external actors to query (or "pull") on demand.
- **Benefits:**
  - **Efficiency:** Heavy computations or data retrieval occurs only when needed.
  - **Security:** Reduces the attack surface by decoupling state changes from external calls.
  - **Modularity:** Enhances maintainability and clarity by separating state updates from data retrieval.

These pull-based patterns are widely adopted in decentralized finance (DeFi) protocols to enhance security, efficiency, and robustness.   

`pure` - static, does not effect or modify state, more computational [free function]   

`Quality Assurance` (QA) - ensure the functionality, security, and efficiency of the smart contract code.  

[relayer](https://docs.openzeppelin.com/learn/sending-gasless-transactions) - `meta-transactions`, a third-party (called a relayer) can send another user’s transactions and pay themselves for the gas cost. In this scheme, users sign messages (not transactions) containing information about a transaction they would like to execute. Relayers are then responsible for signing valid Ethereum transactions with this information and sending them to the network, paying for the gas cost. A base contract preserves the identity of the user that originally requested the transaction. In this way, users can interact directly with smart contracts without needing to have a wallet or own Ether.   

`revert` - gives back gas but loses some in process; 1. [revert reason strings](https://docs.goquorum.consensys.net/configure-and-manage/manage/revert-reason)   

`remote procedure call` or [RPC](https://en.wikipedia.org/wiki/Remote_procedure_call) - when a computer program causes a procedure (subroutine) to execute in a different address space (commonly on another computer on a shared network), which is written as if it were a normal (local) procedure call, without the programmer explicitly writing the details for the remote interaction   

[ring signature](https://www.youtube.com/watch?v=zHN_B_H_fCs) -  type of digital signature that can be performed by any member of a set of users that each have keys. Therefore, a message signed with a ring signature is endorsed by someone in a particular set of people   

`RLP Encoding` - Recursive Length Prefix (RLP) is Ethereum’s core binary serialization format; lets Ethereum pack complex, nested data structures into a compact, predictable byte stream

`safeMath` - before 0.8.0. there were overflow and underflow issues; prior to that version, solidity's "+" operator wouldn't check for overflows, leading to type(uint256).max + 1 = 0, and the safeMath library would avoid it. Now, type(uint256).max + 1 reverts with Panic(0x11), and safeMath isnt needed.   

`self destruct` - leaves a blank account; costs negative gas, does not remove transaction history: only can be self destructed if contract has self destruct programmed in  

[sequencer](https://blog.bingx.com/blockchain-en/what-are-sequencers-in-ethereum-network#:~:text=A%20sequencer%20refers%20to%20a,and%20integrity%20of%20the%20blockchain) - responsible for sorting transactions and it records the (batch) transactions on its local blockchain platform; Layer 2: Arbitrum, Optimism
	 - `Schnorr` - introduces a commitment scheme for transaction ordering that enables transaction-level commitments instead of batching transactions together. 
	 - `Espresso Sequencer` - a decentralized sequencing network for rollups. Its primary objective is to deliver secure, high throughput, and low latency transaction ordering and availability. 
 	-  Auditors should look out for missing L2 sequencer activity checks when they see price code callinglatestRoundData() in projects that are to be deployed on L2s.  

[slippage](https://www.youtube.com/watch?v=BgR75biSjzU) - the difference between the value of an asset at order placement and the value at order fulfilment. It can be found when buying or selling assets, and can result in either a loss or a gain (higher invariants lead to less slippage; Uniswap)      

`smart contract` - programs stored on a blockchain that run when predetermined conditions are met; a transaction protocol intended to automatically execute, control or document events and actions according to the terms of a contract or an agreement; Ethereum contracts are essentially single threaded machine       
- `hybrid smart contracts` - combine code running on the blockchain (on-chain) with data and computation from outside the blockchain (off-chain) provided by decentralized oracle networks. [chainlink](https://chain.link/education-hub/hybrid-smart-contracts)   

`Solc` - the solidity compiler to byte code   

`source lines of code (SLOC)` - software metric used to measure the size of a computer program by counting the number of lines  

`staking` - the act of [depositing](https://ethereum.org/en/staking/) 32 ETH to activate validator software. As a validator you’ll be responsible for storing data, processing transactions, and adding new blocks to the blockchain.   

`state variables` - variables stored permanently on the blockchain 

`stateless fuzzing` - where the state of the previous run is discarded for every new run   
`stateful fuzzing` - fuzzing where final state of previous run is the starting state of the next run   

`storageroot` - a hash of the root node of a Merkle Patricia tree which encodes the hash of the storage contents of this account, and is empty by default   

`struct` - useful for grouping related data, can be declared outside of a contract and imported in another contract  

`sybil attack` a [type of attack](https://en.wikipedia.org/wiki/Sybil_attack) on a computer network service in which an attacker subverts the service's reputation system by creating a large number of pseudonymous identities and uses them to gain a disproportionately large influence. It is named after the subject of the book Sybil, a case study of a woman diagnosed with dissociative identity disorder; also [sybil resistance](https://www.finder.com.au/blockchain-sybil-resistance-searching-for-the-perfect-waste-of-resources)   

`timelock` - locks functionality on an application until a certain amount of time has passed; [video](https://www.youtube.com/watch?v=P1f2a5Ckjpg)    

`topics` - indexed parameters for ‘logged’ events allow you to search for these events using the indexed parameters as filters; at most 3 parameters can receive the property indexed   

`TPS` - transactions per second [chart](https://coincodex.com/article/14198/layer-1-performance-comparing-6-leading-blockchains/)     

`transfer vs. transferFrom (aka delegatedTransfer)` - `transfer` - simply transfer the tokens from one address to another; `transferFrom` -you give permission for someone else to transfer from your account; someone else can be either an externally-owned account or a smart-contract account   
 	- transferFrom vs. safeTransferFrom in ERC721:
* transferFrom: Transfers ownership of a token.   
* safeTransferFrom: Same as transferFrom but checks if the receiver is a smart contract and if so, checks to ensure it can handle ERC721 tokens.   

`tumbler` - a service that mixes potentially identifiable or "tainted" cryptocurrency funds with others, so as to obscure the trail back to the fund's original source: Tornado cash; Zcash and Zk-SNARK's?   

`TVL` - total value locked: includes all coins deposited in all functions that protocol offers: Staking, Lending, Liquidity pools   

`TWAPs or time-weighted average prices` - often used by traders to execute larger orders without causing a significant impact on the market price

`tx` -  "transaction": tx.origin, txn.gasprice; don't use [tx.origin](https://www.youtube.com/watch?v=n9PAya8GhgE)   

`unchecked` - instead of `SafeMath` can be more `gas efficient` if you know your math won’t reach top or bottom limits   

`Uniswap` - decentralized cryptocurrency [exchange](https://en.wikipedia.org/wiki/Uniswap) that uses a set of smart contracts (liquidity pools) to execute trades on its exchange; [whitepaper](https://uniswap.org/whitepaper-v3.pdf) and [billion dollar algorithm](https://www.paradigm.xyz/2021/05/liquidity-mining-on-uniswap-v3) `ticklower` and `tickupper` via [Tick Uniswap](https://docs.uniswap.org/contracts/v3/reference/core/libraries/Tick)    

`UTXO` -  an unspent transaction output (UTXO) represents some amount of digital currency which has been authorized by one account to be spent by another. UTXOs use public key cryptography to identify and transfer ownership between holders of public/private key pairs  
    
[URI](https://en.wikipedia.org/wiki/Uniform_Resource_Identifier) - unique sequence of characters that identifies a logical or physical resource used by web technologies.   
   - https://ethereum.stackexchange.com/questions/147899/why-is-it-called-tokenuri-instead-of-tokenurl

`UUPS (Universal Upgradeable Proxy Standard)` - an upgradeable contract design pattern that separates a contract's logic from its data storage, allowing the logic to be replaced without affecting the stored data, thereby facilitating efficient and flexible smart contract upgrades; is more gas-efficient and flexible than the Transparent Upgradeable Proxy, but requires more care to ensure safety.   

`verbatim` - introduced in Solidity 0.8.4, it allows injecting precompiled bytecode into the contract, useful for specific cryptographic operations.   

`whitelisting` - allows only pre-approved entities to interact with a particular service, contract, or system within the blockchain environment; only authorized participants can access specific functionalities    

`witness` - [cryptography](https://crypto.stackexchange.com/questions/43462/what-is-a-witness-in-zero-knowledge-proof) solution to puzzle; unspent transaction output, any solution to unlock UTXO; see also [Segregated Witness](https://www.investopedia.com/terms/s/segwit-segregated-witness.asp)   

[Yul](https://docs.soliditylang.org/en/latest/yul.html) - an intermediate language between Solidity and EVM bytecode.   

`Zcash` - cryptocurrency using zk-SNARKs to provide enhanced privacy; either in a transparent pool or a shielded pool       

`zero address` - contract creation; sometimes sent in an intentional ether burn

`zero padding` — (big-endian) for taking up entire memory; if your data type is uint8 or uint32 it is still managed as uint256 values (occupies 32bytes)   

[zkproof](https://www.youtube.com/watch?v=e_Im2g2xsAg&t=81s) - method by which one party (the prover) can prove to another party (the verifier) that a given statement is true, while avoiding conveying to the verifier any information beyond the mere fact of the statement's truth [ethereum Zk docs](https://ethereum.org/en/zero-knowledge-proofs/)
   - [zkRollup](https://ethereum.org/en/developers/docs/scaling/zk-rollups/) - bundling transactions off chain and submitting a single transaction onchain 
   - `zkSNARK` - succinct non interactive argument of knowledge
   - `optimistic rollup` - assumes transactions are valid by default until proven otherwise. Incorrect transactions are challenged and rolled back.
   - zk-friendly vs. non-zk-friendly hash Functions: zk-friendly hash functions can be efficiently computed inside a zk-SNARK circuit, whereas non-zk-friendly ones can't.
   - Nullifier in Zero Knowledge: It's a unique value associated with a secret, used in zk-SNARKs protocols (like Zcash) to prevent double-spending without revealing the secret itself.

## Solidity Contract Layout

```
// Layout of Contract:
// version
// imports
// errors
// interfaces, libraries, contracts
// Type declarations
// State variables
// Events
// Modifiers
// Functions

// Layout of Functions:
// constructor
// receive function (if exists)
// fallback function (if exists)
// external
// public
// internal
// private
// internal & private view & pure functions
// external & public view & pure functions
```

